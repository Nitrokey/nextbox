{"version":3,"sources":["../lib/user.ts"],"names":["uidElement","document","getElementsByTagName","uid","getAttribute","displayNameElement","displayName","isAdmin","OC","isUserAdmin","getCurrentUser"],"mappings":";;;;;;AAAA;AAIA,IAAMA,UAAU,GAAGC,QAAQ,CACzBC,oBADiB,CACI,MADJ,EACY,CADZ,CAAnB;AAEA,IAAMC,GAAG,GAAGH,UAAU,GAAGA,UAAU,CAACI,YAAX,CAAwB,WAAxB,CAAH,GAA0C,IAAhE;AAEA,IAAMC,kBAAkB,GAAGJ,QAAQ,CACjCC,oBADyB,CACJ,MADI,EACI,CADJ,CAA3B;AAEA,IAAMI,WAAW,GAAGD,kBAAkB,GAAGA,kBAAkB,CAACD,YAAnB,CAAgC,uBAAhC,CAAH,GAA8D,IAApG;AAEA,IAAMG,OAAO,GAAI,OAAOC,EAAP,KAAc,WAAf,GACb,KADa,GAEbA,EAAE,CAACC,WAAH,EAFH;;AAUO,SAASC,cAAT,GAAgD;AACtD,MAAIP,GAAG,KAAK,IAAZ,EAAkB;AACjB,WAAO,IAAP;AACA;;AAED,SAAO;AACNA,IAAAA,GAAG,EAAHA,GADM;AAENG,IAAAA,WAAW,EAAXA,WAFM;AAGNC,IAAAA,OAAO,EAAPA;AAHM,GAAP;AAKA","sourcesContent":["/// <reference types=\"@nextcloud/typings\" />\n\ndeclare var OC: Nextcloud.v16.OC | Nextcloud.v17.OC | Nextcloud.v18.OC | Nextcloud.v19.OC;\n\nconst uidElement = document\n\t.getElementsByTagName('head')[0]\nconst uid = uidElement ? uidElement.getAttribute('data-user') : null\n\nconst displayNameElement = document\n\t.getElementsByTagName('head')[0]\nconst displayName = displayNameElement ? displayNameElement.getAttribute('data-user-displayname') : null\n\nconst isAdmin = (typeof OC === 'undefined')\n\t? false\n\t: OC.isUserAdmin()\n\nexport interface NextcloudUser {\n\tuid: String,\n\tdisplayName: String | null,\n\tisAdmin: Boolean,\n}\n\nexport function getCurrentUser(): NextcloudUser | null {\n\tif (uid === null) {\n\t\treturn null\n\t}\n\n\treturn {\n\t\tuid,\n\t\tdisplayName,\n\t\tisAdmin,\n\t} as NextcloudUser\n}\n"],"file":"user.js"}