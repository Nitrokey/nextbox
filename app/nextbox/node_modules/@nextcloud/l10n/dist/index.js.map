{"version":3,"sources":["../lib/index.ts"],"names":["getLocale","OC","console","warn","getCanonicalLocale","replace","getLanguage","translate","app","text","vars","count","options","L10N","translatePlural","textSingular","textPlural","getFirstDay","window","firstDay","getDayNames","dayNames","getDayNamesShort","dayNamesShort","getDayNamesMin","dayNamesMin","getMonthNames","monthNames","getMonthNamesShort","monthNamesShort"],"mappings":"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","sourcesContent":["/// <reference types=\"@nextcloud/typings\" />\n\ndeclare var OC: Nextcloud.v16.OC | Nextcloud.v17.OC | Nextcloud.v18.OC | Nextcloud.v19.OC | Nextcloud.v20.OC;\ndeclare var window: Nextcloud.v16.WindowWithGlobals | Nextcloud.v17.WindowWithGlobals | Nextcloud.v18.WindowWithGlobals | Nextcloud.v19.WindowWithGlobals;\n\n/**\n * Returns the user's locale\n */\nexport function getLocale(): string {\n    if (typeof OC === 'undefined') {\n        console.warn('No OC found')\n        return 'en'\n    }\n\n    return OC.getLocale()\n}\n\nexport function getCanonicalLocale(): string {\n\treturn getLocale().replace(/_/g, '-')\n}\n\n/**\n * Returns the user's language\n */\nexport function getLanguage(): string {\n    if (typeof OC === 'undefined') {\n        console.warn('No OC found')\n        return 'en';\n    }\n\n    return OC.getLanguage()\n}\n\ninterface TranslationOptions {\n    escape?: boolean\n}\n\n/**\n * Translate a string\n *\n * @param {string} app the id of the app for which to translate the string\n * @param {string} text the string to translate\n * @param {object} vars map of placeholder key to value\n * @param {number} number to replace %n with\n * @param {object} [options] options object\n * @return {string}\n */\nexport function translate(app: string, text: string, vars?: object, count?: number, options?: TranslationOptions): string {\n    if (typeof OC === 'undefined') {\n        console.warn('No OC found')\n        return text\n    }\n\n    return OC.L10N.translate(app, text, vars, count, options)\n}\n\n/**\n * Translate a plural string\n *\n * @param {string} app the id of the app for which to translate the string\n * @param {string} textSingular the string to translate for exactly one object\n * @param {string} textPlural the string to translate for n objects\n * @param {number} count number to determine whether to use singular or plural\n * @param {Object} vars of placeholder key to value\n * @param {object} options options object\n * @return {string}\n */\n\nexport function translatePlural(app: string, textSingular: string, textPlural: string, count: number, vars?: object, options?: TranslationOptions): string {\n    if (typeof OC === 'undefined') {\n        console.warn('No OC found')\n        return textSingular\n    }\n\n    return OC.L10N.translatePlural(app, textSingular, textPlural, count, vars, options)\n}\n\n/**\n * Get the first day of the week\n *\n * @return {number}\n */\nexport function getFirstDay(): number {\n    if (typeof window.firstDay === 'undefined') {\n        console.warn('No firstDay found')\n        return 1\n    }\n\n    return window.firstDay\n}\n\n/**\n * Get a list of day names (full names)\n *\n * @return {string[]}\n */\nexport function getDayNames(): string[] {\n    if (typeof window.dayNames === 'undefined') {\n        console.warn('No dayNames found')\n        return ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\n    }\n\n    return window.dayNames\n}\n\n/**\n * Get a list of day names (short names)\n *\n * @return {string[]}\n */\nexport function getDayNamesShort(): string[] {\n    if (typeof window.dayNamesShort === 'undefined') {\n        console.warn('No dayNamesShort found')\n        return ['Sun.', 'Mon.', 'Tue.', 'Wed.', 'Thu.', 'Fri.', 'Sat.']\n    }\n\n    return window.dayNamesShort\n}\n\n/**\n * Get a list of day names (minified names)\n *\n * @return {string[]}\n */\nexport function getDayNamesMin(): string[] {\n    if (typeof window.dayNamesMin === 'undefined') {\n        console.warn('No dayNamesMin found')\n        return ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa']\n    }\n\n    return window.dayNamesMin\n}\n\n/**\n * Get a list of month names (full names)\n *\n * @return {string[]}\n */\nexport function getMonthNames(): string[] {\n    if (typeof window.monthNames === 'undefined') {\n        console.warn('No monthNames found')\n        return ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n    }\n\n    return window.monthNames\n}\n\n/**\n * Get a list of month names (short names)\n *\n * @return {string[]}\n */\nexport function getMonthNamesShort(): string[] {\n    if (typeof window.monthNamesShort === 'undefined') {\n        console.warn('No monthNamesShort found')\n        return ['Jan.', 'Feb.', 'Mar.', 'Apr.', 'May.', 'Jun.', 'Jul.', 'Aug.', 'Sep.', 'Oct.', 'Nov.', 'Dec.']\n    }\n\n    return window.monthNamesShort\n}\n"],"file":"index.js"}